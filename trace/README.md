## Tracing

Open a shell, and check and then apply the config file. Review the file and its path, and set environmental configuration to focus on tracing based on automatic instrumentation: 

```source trace/export-tracing```. 

Specifically, we customize the system properties for setting the [exporters](https://opentelemetry.io/docs/languages/java/configuration/#properties-exporters), and utilize *logging-otlp*. 

Run the Otello app: ```java -jar build/libs/otello.jar```.

Open a second shell, and execute a call to the endpoint:
```
curl localhost:8080/rolldice
```

Watch the first shell. Tracing output from the *OtlpJsonLoggingSpanExporter* is shown:

```yaml
{
   "resource":{
      "attributes":[
         {
            "key":"host.arch",
            "value":{
               "stringValue":"amd64"
            }
         },
         {
            "key":"host.name",
            "value":{
               "stringValue":"instance-20241121-1211"
            }
         },
         {
            "key":"os.description",
            "value":{
               "stringValue":"Linux 6.8.0-1021-oracle"
            }
         },
         {
            "key":"os.type",
            "value":{
               "stringValue":"linux"
            }
         },
         {
            "key":"process.command_args",
            "value":{
               "arrayValue":{
                  "values":[
                     {
                        "stringValue":"/usr/lib/jvm/jdk-21.0.6-oracle-x64/bin/java"
                     },
                     {
                        "stringValue":"-jar"
                     },
                     {
                        "stringValue":"build/libs/otello.jar"
                     }
                  ]
               }
            }
         },
         {
            "key":"process.executable.path",
            "value":{
               "stringValue":"/usr/lib/jvm/jdk-21.0.6-oracle-x64/bin/java"
            }
         },
         {
            "key":"process.pid",
            "value":{
               "intValue":"84827"
            }
         },
         {
            "key":"process.runtime.description",
            "value":{
               "stringValue":"Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 21.0.6+8-LTS-188"
            }
         },
         {
            "key":"process.runtime.name",
            "value":{
               "stringValue":"Java(TM) SE Runtime Environment"
            }
         },
         {
            "key":"process.runtime.version",
            "value":{
               "stringValue":"21.0.6+8-LTS-188"
            }
         },
         {
            "key":"service.instance.id",
            "value":{
               "stringValue":"63717881-5a27-45cc-8730-728ce0c62688"
            }
         },
         {
            "key":"service.name",
            "value":{
               "stringValue":"otello"
            }
         },
         {
            "key":"telemetry.distro.name",
            "value":{
               "stringValue":"opentelemetry-java-instrumentation"
            }
         },
         {
            "key":"telemetry.distro.version",
            "value":{
               "stringValue":"2.13.3"
            }
         },
         {
            "key":"telemetry.sdk.language",
            "value":{
               "stringValue":"java"
            }
         },
         {
            "key":"telemetry.sdk.name",
            "value":{
               "stringValue":"opentelemetry"
            }
         },
         {
            "key":"telemetry.sdk.version",
            "value":{
               "stringValue":"1.47.0"
            }
         }
      ]
   },
   "scopeSpans":[
      {
         "scope":{
            "name":"io.opentelemetry.http-url-connection",
            "version":"2.13.3-alpha",
            "attributes":[
               
            ]
         },
         "spans":[
            {
               "traceId":"5290940d490618bad88ffec4ff53a19b",
               "spanId":"f537be0b620bb106",
               "parentSpanId":"73d99edf515522b6",
               "name":"GET",
               "kind":3,
               "startTimeUnixNano":"1742995854234091612",
               "endTimeUnixNano":"1742995854428981256",
               "attributes":[
                  {
                     "key":"server.address",
                     "value":{
                        "stringValue":"localhost"
                     }
                  },
                  {
                     "key":"network.protocol.version",
                     "value":{
                        "stringValue":"1.1"
                     }
                  },
                  {
                     "key":"http.request.method",
                     "value":{
                        "stringValue":"GET"
                     }
                  },
                  {
                     "key":"server.port",
                     "value":{
                        "intValue":"8080"
                     }
                  },
                  {
                     "key":"thread.id",
                     "value":{
                        "intValue":"24"
                     }
                  },
                  {
                     "key":"thread.name",
                     "value":{
                        "stringValue":"http-nio-8080-exec-1"
                     }
                  },
                  {
                     "key":"url.full",
                     "value":{
                        "stringValue":"http://localhost:8080/greeting"
                     }
                  },
                  {
                     "key":"http.response.status_code",
                     "value":{
                        "intValue":"200"
                     }
                  }
               ],
               "events":[
                  
               ],
               "links":[
                  
               ],
               "status":{
                  
               },
               "flags":257
            }
         ]
      },
      {
         "scope":{
            "name":"io.opentelemetry.tomcat-10.0",
            "version":"2.13.3-alpha",
            "attributes":[
               
            ]
         },
         "spans":[
            {
               "traceId":"5290940d490618bad88ffec4ff53a19b",
               "spanId":"bbfe39bed43e0845",
               "parentSpanId":"f537be0b620bb106",
               "name":"GET /greeting",
               "kind":2,
               "startTimeUnixNano":"1742995854250264892",
               "endTimeUnixNano":"1742995854348942125",
               "attributes":[
                  {
                     "key":"url.path",
                     "value":{
                        "stringValue":"/greeting"
                     }
                  },
                  {
                     "key":"server.address",
                     "value":{
                        "stringValue":"localhost"
                     }
                  },
                  {
                     "key":"client.address",
                     "value":{
                        "stringValue":"127.0.0.1"
                     }
                  },
                  {
                     "key":"network.peer.address",
                     "value":{
                        "stringValue":"127.0.0.1"
                     }
                  },
                  {
                     "key":"http.route",
                     "value":{
                        "stringValue":"/greeting"
                     }
                  },
                  {
                     "key":"http.request.method",
                     "value":{
                        "stringValue":"GET"
                     }
                  },
                  {
                     "key":"network.peer.port",
                     "value":{
                        "intValue":"35742"
                     }
                  },
                  {
                     "key":"user_agent.original",
                     "value":{
                        "stringValue":"Java/21.0.6"
                     }
                  },
                  {
                     "key":"network.protocol.version",
                     "value":{
                        "stringValue":"1.1"
                     }
                  },
                  {
                     "key":"server.port",
                     "value":{
                        "intValue":"8080"
                     }
                  },
                  {
                     "key":"thread.id",
                     "value":{
                        "intValue":"25"
                     }
                  },
                  {
                     "key":"url.scheme",
                     "value":{
                        "stringValue":"http"
                     }
                  },
                  {
                     "key":"thread.name",
                     "value":{
                        "stringValue":"http-nio-8080-exec-2"
                     }
                  },
                  {
                     "key":"http.response.status_code",
                     "value":{
                        "intValue":"200"
                     }
                  }
               ],
               "events":[
                  
               ],
               "links":[
                  
               ],
               "status":{
                  
               },
               "flags":769
            },
            {
               "traceId":"5290940d490618bad88ffec4ff53a19b",
               "spanId":"73d99edf515522b6",
               "name":"GET /rolldice",
               "kind":2,
               "startTimeUnixNano":"1742995852739946325",
               "endTimeUnixNano":"1742995854439477979",
               "attributes":[
                  {
                     "key":"url.path",
                     "value":{
                        "stringValue":"/rolldice"
                     }
                  },
                  {
                     "key":"server.address",
                     "value":{
                        "stringValue":"localhost"
                     }
                  },
                  {
                     "key":"client.address",
                     "value":{
                        "stringValue":"0:0:0:0:0:0:0:1"
                     }
                  },
                  {
                     "key":"network.peer.address",
                     "value":{
                        "stringValue":"0:0:0:0:0:0:0:1"
                     }
                  },
                  {
                     "key":"http.route",
                     "value":{
                        "stringValue":"/rolldice"
                     }
                  },
                  {
                     "key":"http.request.method",
                     "value":{
                        "stringValue":"GET"
                     }
                  },
                  {
                     "key":"network.peer.port",
                     "value":{
                        "intValue":"49902"
                     }
                  },
                  {
                     "key":"user_agent.original",
                     "value":{
                        "stringValue":"curl/8.5.0"
                     }
                  },
                  {
                     "key":"network.protocol.version",
                     "value":{
                        "stringValue":"1.1"
                     }
                  },
                  {
                     "key":"server.port",
                     "value":{
                        "intValue":"8080"
                     }
                  },
                  {
                     "key":"thread.id",
                     "value":{
                        "intValue":"24"
                     }
                  },
                  {
                     "key":"url.scheme",
                     "value":{
                        "stringValue":"http"
                     }
                  },
                  {
                     "key":"thread.name",
                     "value":{
                        "stringValue":"http-nio-8080-exec-1"
                     }
                  },
                  {
                     "key":"http.response.status_code",
                     "value":{
                        "intValue":"200"
                     }
                  }
               ],
               "events":[
                  
               ],
               "links":[
                  
               ],
               "status":{
                  
               },
               "flags":257
            }
         ]
      }
   ],
   "schemaUrl":"https://opentelemetry.io/schemas/1.24.0"
}
```